{% extends 'base.html.twig' %}

{% block stylesheets %}
	{{ encore_entry_link_tags('index') }}
{% endblock %}

{% block body %}
	<h1 class="my-3">Bienvenue sur le super blog</h1>

<div {{ react_component('Component') }}></div>
	<div class="d-flex flex-wrap justify-content-evenly">
		{% for post in posts %}
			<div class="card m-3" style="width: 18rem;">
			{% if post.picture %}
				<img src={{ asset('assets/img/upload/' ~ post.picture) }} class="card-img-top" alt={{post.title}}>
			{% else %}
				<img src="https://fakeimg.pl/300x200" class="card-img-top" alt={{post.title}}>
			{% endif %}
				<div class="card-body">
					<h5 class="card-title">{{post.title}}</h5>
                    {# On utilise la fonction substring de twig pour afficher les caractères 0 à 30 du content de post #}
					{# <p class="card-text">{{post.content|slice(0,30) ~ ' ...'}}</p> #}
					<p class="card-text">{{post.content [:30] ~ ' ...'}}</p>
					<a href="#" class="btn btn-primary">Voir plus</a>
				</div>
			</div>
		{% endfor %}
	</div>
{% endblock %}
